<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Crear mi nueva cuenta</title>
    </h:head>
    <h:body>
        <h:form id="frmCrearCuenta" style="padding-left: 90px;padding-top: 50px;"> <!--aqui le damos estilo -->
            <p:growl id="growlCrearCuenta" showDetail="true"/>
            <p:panel id="pnlCrearSesion" style="padding-top: 5%;background: #013947; width: 450px"><!--todo lo de abajo seria el registro para un usuario nuevo -->
                <p:outputLabel value="Registro de Usuario" style="font-size: 35px; font-weight: bold; color: #ffffff"/>
                    <br/><br/>
                    <p:inputText id="txtNombre" value="#{usuarioFormBean.usuario.nombreUsuario}" 
                                 required="true" placeholder="Nombre*" requiredMessage="Ingrese nombre por favor"
                                 style="width: 400px; height: 30px; background: #013947; font-size: 20px; color: #ffffff"/>
                    <br/><br/>
                    <p:inputText id="txtApellido" value="#{usuarioFormBean.usuario.apellidoUsuario}" 
                                 required="true" placeholder="Apellido*" requiredMessage="Ingrese apellido por favor"
                                 style="width: 400px; height: 30px; background: #013947; font-size: 20px; color: #ffffff"/>                  
                    <br/><br/>
                    <p:inputNumber id="nbrDNI" value="#{usuarioFormBean.usuario.dniUsuario}" 
                                   required="true" requiredMessage="Ingrese DNI por favor"
                                   placeholder="DNI*" minValue="0" maxValue="99999999" decimalPlaces="0"
                                   styleClass="inputPeso" style="font-size: 20px;" 
                                   validator="#{usuarioFormBean.validarDNI}"/>
                    
                    <br/><br/>
                    <p:inputText id="txtEmail" value="#{usuarioFormBean.usuario.emailUsuario}" required="true" 
                                 placeholder="Direccion de correo*" requiredMessage="Ingrese email por favor" 
                                 validator="#{usuarioFormBean.validarEmail}"
                                 style="width: 400px; height: 30px; background: #013947; font-size: 20px; color: #ffffff"/>                 
                    <br/><br/>                
                    <p:password id="passContraseña" value="#{usuarioFormBean.usuario.contraseña}" required="true" 
                                placeholder="Contraseña" title="debe tener al menos 1 Mayuscula, letras minusculas, numeros y 1 signo -,_" 
                                feedback="true" inline="true" strongLabel="Fuerte" promptLabel="Por favor, ingresu su contraseña"
                                weakLabel="Debil" goodLabel="Buena" requiredMessage="Ingrese contraseña por favor"
                                validator="#{usuarioFormBean.validarContraseña}"
                                style="width: 400px; height: 30px; background: #013947; font-size: 20px; color: #ffffff"/>
                    <br/><br/>
                    <p:commandButton id="btnCrear" value="Crear Cuenta" update="growlCrearCuenta frmCrearCuenta"
                                     style="background: #1ab188; color: #ffffff; width: 410px; height: 50px; font-size: 25px"
                                     actionListener="#{usuarioFormBean.crearUsuario()}" 
                                     action="sesion.xhtml"/>
            </p:panel> <!--en este codigo de arriva llamamos a los respectivos validadores, y creamos un usuario -->
            <p:blockUI block="pnlCrearSesion VolverSesion" trigger="btnCrear" />
        </h:form>
        <h:form id="VolverSesion" style="padding-left: 90px">
            <p:panel style="background: #013947">
                <p:commandButton id="lnkVolverSesion"
                                 value="Cancelar"
                                 action="sesion.xhtml"
                                 style="background: #ff0001; color: #ffffff; width: 110px;"
                                 update=":VolverSesion"/>
            </p:panel>
        </h:form>
    </h:body>
</html>